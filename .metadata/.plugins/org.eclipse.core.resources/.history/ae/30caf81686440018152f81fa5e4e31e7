package View;

import java.awt.Color;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.Image;

import javax.swing.BorderFactory;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.SwingConstants;

import Model.TableroModel;
import resources.CompoundIcon;

@SuppressWarnings("serial")
public class BatoiKillerView extends JFrame {
	
	private final Font font = new Font("TimesRoman", Font.BOLD, 28);
	private TableroModel modelo;
	private JLabel[][] tablero;
	private JLabel stats, img, total, totalP, fuerza, fuerzaP, velocidad, velocidadP, oro, oroP, energia, energiaP, sabiduria, sabiduriaP;
	private JLabel mapa;
	private JButton arriba, abajo, derecha, izquierda;

	public BatoiKillerView(TableroModel modelo) {
		this.modelo = modelo;
		this.tablero = new JLabel[modelo.getCasillas().length][modelo.getCasillas().length];
		this.mapa = new JLabel();
		
		this.stats = new JLabel();
		this.img = new JLabel();
		this.total = new JLabel("Puntos Totales:", SwingConstants.CENTER);
		this.totalP = new JLabel("0", SwingConstants.CENTER);
		this.fuerza = new JLabel();
		this.fuerzaP = new JLabel("" + modelo.getCasillas()[5][5].getPersonajes()[1].getFuerza(), SwingConstants.CENTER);
		this.velocidad = new JLabel();
		this.velocidadP = new JLabel("" + modelo.getCasillas()[5][5].getPersonajes()[1].getVelocidad(), SwingConstants.CENTER);
		this.oro = new JLabel();
		this.oroP = new JLabel("" + modelo.getCasillas()[5][5].getPersonajes()[1].getOro(), SwingConstants.CENTER);
		this.energia = new JLabel();
		this.energiaP = new JLabel("" + modelo.getCasillas()[5][5].getPersonajes()[1].getEnergia(), SwingConstants.CENTER);
		this.sabiduria = new JLabel();
		this.sabiduriaP = new JLabel("" + modelo.getCasillas()[5][5].getPersonajes()[1].getSabiduria(), SwingConstants.CENTER);
		
		this.arriba = new JButton();
		this.abajo = new JButton();
		this.derecha = new JButton();
		this.izquierda = new JButton();
		this.mapa.setBackground(Color.ORANGE);
		this.mapa.setOpaque(true);
		darFormato();
	}

	private void darFormato() {
		JLabel background = new JLabel();
		background.setIcon(new ImageIcon(getClass().getResource("../resources/extras/bg.jpeg")));
		this.setContentPane(background);

		this.setLayout(null);
		this.mapa.setLayout(new GridLayout(11, 11));
		// Comienzo Pintar casillas
		for (int i = 0; i < tablero.length; i++) {
			for (int j = 0; j < tablero[i].length; j++) {
				JLabel label = new JLabel();
				
				Image fondo = new ImageIcon(getClass().getResource(this.modelo.getCasillas()[i][j].getEdificio().getRuta())).getImage();
				
				label.setIcon(new ImageIcon(fondo.getScaledInstance(60, 60, Image.SCALE_SMOOTH)));
				
				if (this.modelo.getCasillas()[i][j].getPersonajes()[0] != null) {
					Image fondo2 = new ImageIcon(getClass().getResource(this.modelo.getCasillas()[i][j].getEdificio().getRuta())).getImage();
					Image per = new ImageIcon(getClass().getResource(this.modelo.getCasillas()[i][j].getPersonajes()[0].getRuta())).getImage();
					label.setIcon(new CompoundIcon(new ImageIcon(fondo2.getScaledInstance(60, 60, Image.SCALE_SMOOTH)), new ImageIcon(per.getScaledInstance(50, 50, Image.SCALE_SMOOTH))));
				} else if (i == 5 && j == 5) {
					Image prot = new ImageIcon(getClass().getResource(this.modelo.getCasillas()[5][5].getPersonajes()[1].getRuta())).getImage();
					label.setIcon(new CompoundIcon(label.getIcon(), new ImageIcon(prot.getScaledInstance(60, 60, Image.SCALE_SMOOTH))));
				}
				label.setBorder(BorderFactory.createLineBorder(Color.BLACK));
				label.setOpaque(true);
				this.tablero[i][j] = label;
				this.mapa.add(label);
			}
		} // Fin pintar casillas
		this.mapa.setBounds(50, 50, 700, 700);
		this.add(mapa);

		// Comienzo pintar cruzeta de control
		
		Image img = new ImageIcon(getClass().getResource("../resources/flechas/up.png")).getImage();
		this.arriba.setIcon(new ImageIcon(img.getScaledInstance(90, 90, Image.SCALE_SMOOTH)));
		this.arriba.setBounds(1030,450,90,90);
		this.add(arriba);

		img = new ImageIcon(getClass().getResource("../resources/flechas/left.png")).getImage();
		this.izquierda.setIcon(new ImageIcon(img.getScaledInstance(90, 90, Image.SCALE_SMOOTH)));
		this.izquierda.setBounds(940,540,90,90);
		this.add(izquierda);

		img = new ImageIcon(getClass().getResource("../resources/flechas/right.png")).getImage();
		this.derecha.setIcon(new ImageIcon(img.getScaledInstance(90, 90, Image.SCALE_SMOOTH)));
		this.derecha.setBounds(1120,540,90,90);
		this.add(derecha);

		img = new ImageIcon(getClass().getResource("../resources/flechas/down.png")).getImage();
		this.abajo.setIcon(new ImageIcon(img.getScaledInstance(90, 90, Image.SCALE_SMOOTH)));
		this.abajo.setBounds(1030,630,90,90);
		this.add(abajo);
		
		// Fin pintar cruzeta de control
		
		// Comienzo pintar estadisticas
		
		img = new ImageIcon(getClass().getResource("../resources/extras/frame.png")).getImage();
		this.stats.setIcon(new ImageIcon(img.getScaledInstance(450, 375, Image.SCALE_SMOOTH)));
		this.stats.setLayout(null);
		this.stats.setBounds(765, 50, 450, 375);
		
		this.img.setBounds(25,100,125,125);
		Image prot = new ImageIcon(getClass().getResource(this.modelo.getCasillas()[5][5].getPersonajes()[1].getRuta())).getImage();
		this.img.setIcon(new ImageIcon(prot.getScaledInstance(125, 125, Image.SCALE_SMOOTH)));
		this.stats.add(this.img);
		
		//this.total.setIcon(new ImageIcon(getClass().getResource("../resources/extras/pt.png")));
		this.total.setBounds(0,25,335,50);
		this.total.setFont(font);
		this.total.setForeground(Color.LIGHT_GRAY);
		this.totalP.setFont(font);
		this.totalP.setForeground(Color.LIGHT_GRAY);
		this.totalP.setBounds(255,25,75,50);
		this.stats.add(total);
		this.stats.add(totalP);
		
		//this.fuerza.setIcon(new ImageIcon(getClass().getResource("../resources/extras/fuerza.png")));
		this.fuerza.setBounds(15,80,300,50);
		this.fuerzaP.setFont(font);
		this.fuerzaP.setForeground(Color.LIGHT_GRAY);
		this.fuerzaP.setBounds(200,80,75,50);
		this.stats.add(fuerza);
		this.stats.add(fuerzaP);
		
		//this.velocidad.setIcon(new ImageIcon(getClass().getResource("../resources/extras/velocidad.png")));
		this.velocidad.setBounds(15,135,300,50);
		this.velocidadP.setFont(font);
		this.velocidadP.setForeground(Color.LIGHT_GRAY);
		this.velocidadP.setBounds(265,130,75,50);
		this.stats.add(velocidad);
		this.stats.add(velocidadP);
		
		this.stats.add(new JPanel());
		
		//this.oro.setIcon(new ImageIcon(getClass().getResource("../resources/extras/oro.png")));
		this.oro.setBounds(15,190,300,50);
		this.oroP.setFont(font);
		this.oroP.setForeground(Color.LIGHT_GRAY);
		this.oroP.setBounds(140,190,75,50);
		this.stats.add(oro);
		this.stats.add(oroP);
		
		//this.energia.setIcon(new ImageIcon(getClass().getResource("../resources/extras/energia.png")));
		this.energia.setBounds(15,245,300,50);
		this.energiaP.setFont(font);
		this.energiaP.setForeground(Color.LIGHT_GRAY);
		this.energiaP.setBounds(225,245,75,50);
		this.stats.add(energia);
		this.stats.add(energiaP);
		
		//this.sabiduria.setIcon(new ImageIcon(getClass().getResource("../resources/extras/sabiduria.png")));
		this.sabiduria.setBounds(15,300,300,50);
		this.sabiduriaP.setFont(font);
		this.sabiduriaP.setForeground(Color.LIGHT_GRAY);
		this.sabiduriaP.setBounds(250,300,75,50);
		this.stats.add(sabiduria);
		this.stats.add(sabiduriaP);
		this.add(stats);
		
		// Fin pintar estadisticas

		this.setSize(1300, 820);
		this.setTitle("Batoi Killer");
		this.setLocationRelativeTo(null);
		this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		this.setVisible(true);
	}

	public TableroModel getModelo() {
		return modelo;
	}

	public void setModelo(TableroModel modelo) {
		this.modelo = modelo;
	}

	public JLabel[][] getTablero() {
		return tablero;
	}

	public void setTablero(JLabel[][] tablero) {
		this.tablero = tablero;
	}

	public JLabel getStats() {
		return stats;
	}

	public void setStats(JLabel stats) {
		this.stats = stats;
	}

	public JLabel getTotal() {
		return total;
	}

	public void setTotal(JLabel total) {
		this.total = total;
	}

	public JLabel getTotalP() {
		return totalP;
	}

	public void setTotalP(JLabel totalP) {
		this.totalP = totalP;
	}

	public JLabel getFuerza() {
		return fuerza;
	}

	public void setFuerza(JLabel fuerza) {
		this.fuerza = fuerza;
	}

	public JLabel getFuerzaP() {
		return fuerzaP;
	}

	public void setFuerzaP(JLabel fuerzaP) {
		this.fuerzaP = fuerzaP;
	}

	public JLabel getVelocidad() {
		return velocidad;
	}

	public void setVelocidad(JLabel velocidad) {
		this.velocidad = velocidad;
	}

	public JLabel getVelocidadP() {
		return velocidadP;
	}

	public void setVelocidadP(JLabel velocidadP) {
		this.velocidadP = velocidadP;
	}

	public JLabel getOro() {
		return oro;
	}

	public void setOro(JLabel oro) {
		this.oro = oro;
	}

	public JLabel getOroP() {
		return oroP;
	}

	public void setOroP(JLabel oroP) {
		this.oroP = oroP;
	}

	public JLabel getEnergia() {
		return energia;
	}

	public void setEnergia(JLabel energia) {
		this.energia = energia;
	}

	public JLabel getEnergiaP() {
		return energiaP;
	}

	public void setEnergiaP(JLabel energiaP) {
		this.energiaP = energiaP;
	}

	public JLabel getSabiduria() {
		return sabiduria;
	}

	public void setSabiduria(JLabel sabiduria) {
		this.sabiduria = sabiduria;
	}

	public JLabel getSabiduriaP() {
		return sabiduriaP;
	}

	public void setSabiduriaP(JLabel sabiduriaP) {
		this.sabiduriaP = sabiduriaP;
	}

	public JLabel getMapa() {
		return mapa;
	}

	public void setMapa(JLabel mapa) {
		this.mapa = mapa;
	}

	public JButton getArriba() {
		return arriba;
	}

	public void setArriba(JButton arriba) {
		this.arriba = arriba;
	}

	public JButton getAbajo() {
		return abajo;
	}

	public void setAbajo(JButton abajo) {
		this.abajo = abajo;
	}

	public JButton getDerecha() {
		return derecha;
	}

	public void setDerecha(JButton derecha) {
		this.derecha = derecha;
	}

	public JButton getIzquierda() {
		return izquierda;
	}

	public void setIzquierda(JButton izquierda) {
		this.izquierda = izquierda;
	}

}
